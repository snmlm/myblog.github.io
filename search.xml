<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>Hexo博客+spfk主题+LiveRe评论+Github pages</title>
      <link href="/2018/09/28/Hexo+spfk+LiveRe+Github_pages/"/>
      <url>/2018/09/28/Hexo+spfk+LiveRe+Github_pages/</url>
      
        <content type="html"><![CDATA[<p> <meta name="referrer" content="no-referrer"></p><h3 id="动机"><a href="#动机" class="headerlink" title="动机"></a>动机</h3><p>刚接触Blog，觉得很新鲜，选择一个免费空间来写。<br><a id="more"></a><br><a href="https://github.com/" target="_blank" rel="noopener">Github</a>是一个全世界程序员聚集的地方，大家相互分享自己写的代码，提升别人，也提升自己。<br>先说说Github pages服务搭建博客的好处：</p><ul><li>免费</li><li>免费</li><li>免费</li></ul><p>再说说Hexo的优点：</p><ul><li>生成纯静态网页，访问速度快</li><li>没有数据库，迁移很方便</li><li>免费</li></ul><p>在评论系统上选用LiveRe：</p><ul><li>大佬级的disqus评论系统在墙外（沉默一会），需要vpn</li><li>多说、网易云已躺</li><li>搜狐畅言需要域名备案，免费的我怎么可能有域名，所以直接忽略</li><li>原生评论系统？？？hexo没有数据库，怎么弄。。。</li><li>gitment是github的，没弄明白</li><li>友言，登陆不上</li></ul><p>看来看去，LiveRe还能用，虽然bug比较多，网络连接比较差。爱折腾的我们，会找到更好的。</p><h3 id="安装Git-Bash"><a href="#安装Git-Bash" class="headerlink" title="安装Git Bash"></a>安装Git Bash</h3><p>我的是windows环境，所以下载windows版本并安装就可以了。<br></p><ul><li><a href="https://gitforwindows.org/" target="_blank" rel="noopener">下载地址</a></li><li>下载exe，打开之后，一路下一步就好了</li><li>安装好后，打开gitbash</li></ul><p><img src="https://i.imgur.com/0Piax8M.png" alt=""></p><ul><li>找不到gitbash的小伙伴，右键空白处就能看到</li></ul><p><img src="https://i.imgur.com/4Vl2Alk.png" alt=""></p><ul><li>或者在所有程序中找到Git文件夹</li></ul><p><img src="https://i.imgur.com/IRIO9Mr.png" alt=""></p><ul><li>查看当前安装的版本</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git version</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/AczxU7z.png" alt=""></p><h3 id="安装NodeJs"><a href="#安装NodeJs" class="headerlink" title="安装NodeJs"></a>安装NodeJs</h3><p>Hexo是基于nodeJS环境的静态博客，里面的npm工具很有用啊，所以还是老老实实把这玩意儿装了吧</p><ul><li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">下载地址</a>（说明：LTS为长期支持版，Current为当前最新版）</li><li>安装步骤：反正下载好msi文件后，双击打开安装，也是一路next，不过在Custom Setup这一步记得选<code>Add to PATH</code> ,这样你就不用自己去配置电脑上环境变量了，装完在按 <code>win + r</code> 快捷键调出运行，然后输入cmd确定，在cmd中输入path可以看到你的node是否配置在里面（环境变量），没有的自行问度娘吧。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/aDLESxv.png" alt=""></p><h3 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h3><p>安装上面两个软件后，后面的东西就不需要我们自己手动下载了，因为用gitbash中npm工具就能完成。</p><ul><li>首先需要找个地方来存放你的blog，在电脑的某个地方创建文件夹。</li><li>在gitbash中用<code>cd</code>进入该文件中，并执行命令,默认安装在c盘下，想修改安装路径的小伙伴，请自行百度。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g hexo</span><br></pre></td></tr></table></figure><ul><li>安装后查看版本,命令：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/wZviLTe.png" alt=""></p><ul><li>随后我们进行blog的初始化，命令：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/2PnsrRt.png" alt=""></p><ul><li>说明一下各个文件的作用：<ul><li>node_modules：是依赖包</li><li>public：存放的是生成的页面</li><li>scaffolds：命令生成文章等的模板</li><li>source：用命令创建的各种文章</li><li>themes：主题</li><li>_config.yml：整个博客的配置</li><li>db.json：source解析所得到的</li><li>package.json：项目所需模块项目的配置信息</li></ul></li><li>到这一步，架子算是搭好了，剩下的就是一些个性化的配置了</li></ul><h3 id="搭桥到github"><a href="#搭桥到github" class="headerlink" title="搭桥到github"></a>搭桥到github</h3><p>把创建好的blog项目部署到github上并用github page</p><ul><li>首先需要有github账号，如果没有，请自行百度，注册很简单。</li><li>有了账号，并登陆后创建一个repo,名称为<code>yourname.github.io</code>,其中yourname是你github的名称，操作如下：</li></ul><p><img src="https://i.imgur.com/ChdyWrM.png" alt=""></p><p><img src="https://i.imgur.com/CgGsKyy.png" alt=""></p><ul><li>点击<code>Create repository</code>即可</li><li>回到gitbash中，配置github账户信息(<code>YourName</code>和<code>YourEmail</code>填写你们自己的)</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;YourName&quot;</span><br><span class="line">git config --global user.email &quot;YourEmail&quot;</span><br></pre></td></tr></table></figure><ul><li>创建ssh</li><li>在gitbash中输入以下命令，需要输入密码,生成ssh密钥。然后进入C:\Users\用户名.ssh,进入此文件夹，找到<code>id_rsa.pub</code>文件，查看里面的内容</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;youremail&quot;</span><br></pre></td></tr></table></figure><ul><li>登陆github：</li></ul><p><img src="https://i.imgur.com/HW6wNvt.png" alt=""><br><img src="https://i.imgur.com/RWn2wyh.png" alt=""></p><ul><li>点击<code>New SSH key</code></li></ul><p><img src="https://i.imgur.com/P04VMJ8.png" alt=""></p><ul><li>title随便起，key值填入id_rsa.pub文件内的内容，点击<code>Add SSH key</code>即可</li><li>在gitbash中校验是否添加成功,命令：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><h3 id="把blog关联到github中"><a href="#把blog关联到github中" class="headerlink" title="把blog关联到github中"></a>把blog关联到github中</h3><ul><li>打开blog项目，修改<code>_config.yml</code>文件中的一些配置,在文档字下面添加下面的代码，冒号后面有一个英文的空格,</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">    type: git</span><br><span class="line">    repo: git@github.com:YourgithubName/YourgithubName.github.io.git</span><br><span class="line">    branch: master</span><br></pre></td></tr></table></figure><ul><li>回到gitbash中，进入你的本地blog目录，执行下面命令：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>注：<code>hexo 3.0</code>把服务器独立成个别模块，需要单独安装：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-server</span><br></pre></td></tr></table></figure></p></blockquote><ul><li>打开浏览器，输入：<code>http://localhost:4000</code></li><li>你就可以看到hexo自带主题的页面了</li></ul><h3 id="部署到github"><a href="#部署到github" class="headerlink" title="部署到github"></a>部署到github</h3><ul><li>先安装插件,只有安装这个，才能部署到github中</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><ul><li>执行命令：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><blockquote><p><code>hexo d</code>的时候，会让输入生成ssh时候输入的密码。</p></blockquote><ul><li>部署成功后，访问<code>http://yourgithubname.github.io</code>,就可以看见了</li></ul><h3 id="修改主题为spfk"><a href="#修改主题为spfk" class="headerlink" title="修改主题为spfk"></a>修改主题为spfk</h3><ul><li>hexo默认的是主题是<code>landscape</code>,我用的是spfk的主题。</li><li>在gitbash中进入你的blog所在的文件夹，输入以下命令</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/luuman/hexo-theme-spfk.git themes/spfk</span><br></pre></td></tr></table></figure><ul><li>下载完成后，修改blog下的<code>_confing.yml</code>文件，将<code>theme</code>属性修改成<code>spfk</code>,改成其他主题，操作类似</li><li>如果主题需要更新的话，在gitbash中,进入主题所在文件夹，在<code>blog\themes</code>中，名字对应的文件</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure><ul><li>更换完后，重新加载和部署即可</li></ul><h3 id="添加LiveRe评论系统"><a href="#添加LiveRe评论系统" class="headerlink" title="添加LiveRe评论系统"></a>添加LiveRe评论系统</h3><ul><li>首先进入<a href="https://livere.com/" target="_blank" rel="noopener">LiveRe</a></li><li>进行注册，注册完成</li><li>点击安装，选择<code>City版</code>，喜欢付费的小伙伴，可以选择<code>Premium版</code>，点击<code>现在安装</code></li><li>根据自身的需求进行一些设置</li><li>绑定网址，生成代码</li><li>在管理界面左侧找到代码管理，把一般网站里的代码粘贴出来，命名为<code>livere.ejs</code></li><li>放到<code>blog\themes\spfk\layout\_partial\comments</code></li></ul><p><img src="https://i.imgur.com/9D3XRNo.png" alt=""></p><ul><li>由于spfk主题下没有LiveRe评论系统的，所以要手动进行添加</li><li>打开文件<code>hexo\themes\spfk\layout\_partial</code>下的<code>article.ejs</code>文件</li></ul><p><img src="https://i.imgur.com/r3QFah0.png" alt=""></p><ul><li>找到<code>if (!index &amp;&amp; post.comments){</code>这里添加以下代码</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%  if (theme.livere.on) &#123; %&gt;</span><br><span class="line">    &lt;%- partial(&apos;comments/livere&apos;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/YnPSlWX.png" alt=""></p><ul><li>打开spfk主题配置文件<code>hexo\themes\spfk</code>下的<code>_config.yml</code>添加以下代码,<code>Yourid</code>的值时LiveRe代码中的<code>data-uid</code>的值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">livere:</span><br><span class="line">    on: true</span><br><span class="line">    livere_uid: Yourid</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/3Sqc0NV.png" alt=""></p><ul><li>由于主题中还有其他的评论系统，把其他评论系统全部注释掉即可</li></ul><h3 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h3><ul><li>执行编译和部署命令，将整合过后的项目部署到github上</li><li>自己的小博客大功告成</li></ul><h3 id="打完收工"><a href="#打完收工" class="headerlink" title="打完收工"></a>打完收工</h3>]]></content>
      
      
      <categories>
          
          <category> 开发工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
